---
layout: post
author-id: sbasischeck
title: Postgres
feature-img: "/assets/img/background/book-glass.jpeg"
img: "/assets/img/background/book-glass.jpeg"
date: 2021-02-15 18:26:00 +0200
tags: [postgres, microworld]
---

# Postgres Kommandos

## Kommandozeile

### Login
Anmeldung mit User digen an die Datenbank db-occonnect, PGPASSWORD des User digen aus Vault nutzen  
oder besser direkt aus dem pgpool Pod im Terminal aufrufen  
PGPASSWORD=$PGPOOL_POSTGRES_PASSWORD psql -U digen -h postgresql-ha-pgpool -d db-occonnect

### Abfrage nach Tabellen der zugehörigen Schema-User
SELECT table_schema,table_name FROM information_schema.tables where table_schema in ('caseinformation','dentist','diagnose','digen_registrations','hospital','insurees','physician','prescription','surgery') ORDER BY table_schema,table_name;
### Tabellennamen eines Schema-Users
SELECT table_name FROM information_schema.tables WHERE table_schema='hospital';
### Anzahl der Einträge einer Tabelle
select count(*) from hospital.hospital;
### Drop des kompletten Schema incl. aller Tabellen, Views und Daten
drop schema hospital cascade;